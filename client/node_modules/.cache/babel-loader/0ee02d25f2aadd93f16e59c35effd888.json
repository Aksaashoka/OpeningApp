{"ast":null,"code":"var _jsxFileName = \"/home/alan/Escritorio/Integra/IntegraApp/src/components/Admin/AdminHome/AdminHome.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport supabase from '../../../supabase.config.js';\nimport styles from './AdminHome.module.css';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Chart from 'react-google-charts';\nimport CountUp from 'react-countup'; //MATERIAL-UI COMPONENTS\n\nimport { DataGrid } from '@material-ui/data-grid';\nimport StorefrontIcon from '@material-ui/icons/Storefront';\nimport AccessibilityIcon from '@material-ui/icons/Accessibility';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport AddToQueueIcon from '@material-ui/icons/AddToQueue';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AdminHome() {\n  _s();\n\n  const [activeAffiliates, setActiveAffiliates] = useState('');\n  const [affiliatesToRevision, setAffiliatesToRevision] = useState('');\n  const [downRequests, setDownRequests] = useState('');\n  const [medics, setMedics] = useState('');\n  const [bestPlans, setBestPlans] = useState('');\n  const [contactForm, setContactForm] = useState('');\n  const [planInfo, setPlanInfo] = useState('');\n  const [admins, setAdmins] = useState('');\n  const [authorizations, setAuthorizations] = useState('');\n  const [debtors, setDebtors] = useState([]);\n\n  const fetchingData = async () => {\n    const {\n      data: numberAffiliates\n    } = await supabase.from('partners').select('id').eq('state', 'aceptado');\n    setActiveAffiliates(numberAffiliates.length);\n    const {\n      data: numberAffiliatesToRevision\n    } = await supabase.from('partners').select('id').eq('state', 'revision pendiente');\n    setAffiliatesToRevision(numberAffiliatesToRevision.length);\n    const {\n      data: numberAdmins\n    } = await supabase.from('admins').select('id');\n    setAdmins(numberAdmins.length);\n    const {\n      data: numberDownRequests\n    } = await supabase.from('familiar_downs_request').select('id').eq('status', 'pendiente');\n    setDownRequests(numberDownRequests.length);\n    const {\n      data: numberMedics\n    } = await supabase.from('medics').select('id').eq('state', 'activo');\n    setMedics(numberMedics.length);\n    const {\n      data: numberContacts\n    } = await supabase.from('guest_contacts').select('id');\n    setContactForm(numberContacts.length); //FECHAS\n\n    const rightNow = new Date();\n    const monthFormated = String(rightNow.getMonth()).length === 1 ? `0${rightNow.getMonth() + 1}` : `${rightNow.getMonth() + 1}`;\n    const dayFormated = String(rightNow.getDate()).length === 1 ? `0${rightNow.getDate()}` : `${rightNow.getDate()}`;\n    const dateFormated = `${rightNow.getFullYear()}-${monthFormated}-${dayFormated}`;\n    const {\n      data: paymentsExpired\n    } = await supabase.from('payments').select('expiration_date, amount, payed, partners(dni, name, lastname)').lt('expiration_date', dateFormated).eq('payed', false);\n    setDebtors(paymentsExpired);\n    const {\n      data: numberPlans\n    } = await supabase.from('partners').select('plans (name, price)').eq('state', 'aceptado');\n    setBestPlans(numberPlans.map(el => el.plans.name).sort());\n    setPlanInfo(numberPlans.reduce((accu, el) => {\n      return accu + el.plans.price;\n    }, 0));\n    const {\n      data: numberAuth\n    } = await supabase.from('orders').select('id').eq('status', 1);\n    setAuthorizations(numberAuth.length);\n  };\n\n  useEffect(() => {\n    fetchingData();\n  }, []);\n  if (authorizations === '' && bestPlans === '') return /*#__PURE__*/_jsxDEV(CircularProgress, {\n    color: \"secondary\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 16\n  }, this);\n  const counts = {};\n  const countPlans = [['Plan', 'Socios']];\n  bestPlans.forEach(el => {\n    counts[el] = (counts[el] || 0) + 1;\n  });\n\n  for (let key in counts) {\n    countPlans.push({\n      name: key,\n      count: counts[key]\n    });\n  }\n\n  const columns = [{\n    field: 'id',\n    headerName: 'ID',\n    width: 100\n  }, {\n    field: 'dni',\n    headerName: 'DNI',\n    width: 200\n  }, {\n    field: 'name',\n    headerName: 'Nombre',\n    width: 200\n  }, {\n    field: 'lastname',\n    headerName: 'Apellido',\n    width: 200\n  }, {\n    field: 'month',\n    headerName: 'Fecha expiracion',\n    width: 200\n  }, {\n    field: 'debt',\n    headerName: 'Deuda',\n    width: 200\n  }];\n  const rows = debtors ? debtors.map((el, index) => {\n    return {\n      id: index,\n      dni: el.partners.dni,\n      name: el.partners.name,\n      lastname: el.partners.lastname,\n      month: el.expiration_date,\n      debt: el.amount\n    };\n  }) : [{\n    id: 0,\n    dni: '00000000',\n    name: 'Ningun',\n    lastname: 'afiliado',\n    month: 'con',\n    debt: 'deudas'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.dataContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_green}`,\n          children: /*#__PURE__*/_jsxDEV(StorefrontIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ganancias mensuales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"$\", /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(planInfo),\n                duration: 10\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_blue}`,\n          children: /*#__PURE__*/_jsxDEV(AddToQueueIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Interesados a revisar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(affiliatesToRevision),\n                duration: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_lightblue}`,\n          children: /*#__PURE__*/_jsxDEV(HourglassEmptyIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Faltan enviar formulario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(contactForm),\n                duration: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_yellow}`,\n          children: /*#__PURE__*/_jsxDEV(ErrorIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Socios que quieren la baja\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(downRequests),\n                duration: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_purple}`,\n          children: /*#__PURE__*/_jsxDEV(AccessibilityIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Afiliados activos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(activeAffiliates),\n                duration: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_red}`,\n          children: /*#__PURE__*/_jsxDEV(AddBoxIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Medicos activos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(medics),\n                duration: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.iconCard} ${styles.bg_black}`,\n          children: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.auxiliar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.description,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Administradores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(CountUp, {\n                end: Number(admins),\n                duration: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles.chartContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.iconChart,\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Planes mas consumidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Chart, {\n        chartType: \"PieChart\",\n        loader: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 29\n        }, this),\n        data: countPlans.map(el => el.name ? [el.name, el.count] : el),\n        className: styles.chart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.dataGridContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.iconGrid,\n        children: [/*#__PURE__*/_jsxDEV(WarningIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Socios con deudas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.dataGrid,\n        children: /*#__PURE__*/_jsxDEV(DataGrid, {\n          rows: rows,\n          columns: columns,\n          pageSize: 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdminHome, \"CM32t7P82PWxXlS1GJUk71//UeM=\");\n\n_c = AdminHome;\nexport default AdminHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminHome\");","map":{"version":3,"sources":["/home/alan/Escritorio/Integra/IntegraApp/src/components/Admin/AdminHome/AdminHome.jsx"],"names":["React","useState","useEffect","supabase","styles","CircularProgress","Chart","CountUp","DataGrid","StorefrontIcon","AccessibilityIcon","ErrorIcon","AddBoxIcon","SettingsIcon","AddToQueueIcon","HourglassEmptyIcon","WarningIcon","ShoppingCartIcon","AdminHome","activeAffiliates","setActiveAffiliates","affiliatesToRevision","setAffiliatesToRevision","downRequests","setDownRequests","medics","setMedics","bestPlans","setBestPlans","contactForm","setContactForm","planInfo","setPlanInfo","admins","setAdmins","authorizations","setAuthorizations","debtors","setDebtors","fetchingData","data","numberAffiliates","from","select","eq","length","numberAffiliatesToRevision","numberAdmins","numberDownRequests","numberMedics","numberContacts","rightNow","Date","monthFormated","String","getMonth","dayFormated","getDate","dateFormated","getFullYear","paymentsExpired","lt","numberPlans","map","el","plans","name","sort","reduce","accu","price","numberAuth","counts","countPlans","forEach","key","push","count","columns","field","headerName","width","rows","index","id","dni","partners","lastname","month","expiration_date","debt","amount","container","dataContainer","card","iconCard","bg_green","infoCard","auxiliar","description","Number","bg_blue","bg_lightblue","bg_yellow","bg_purple","bg_red","bg_black","chartContainer","iconChart","chart","dataGridContainer","iconGrid","dataGrid"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport supabase from '../../../supabase.config.js';\nimport styles from './AdminHome.module.css';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Chart from 'react-google-charts';\nimport CountUp from 'react-countup';\n\n//MATERIAL-UI COMPONENTS\nimport { DataGrid } from '@material-ui/data-grid';\n\nimport StorefrontIcon from '@material-ui/icons/Storefront';\nimport AccessibilityIcon from '@material-ui/icons/Accessibility';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport AddToQueueIcon from '@material-ui/icons/AddToQueue';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n\nfunction AdminHome() {\n    const [activeAffiliates, setActiveAffiliates] = useState('');\n    const [affiliatesToRevision, setAffiliatesToRevision] = useState('');\n    const [downRequests, setDownRequests] = useState('');\n    const [medics, setMedics] = useState('');\n    const [bestPlans, setBestPlans] = useState('');\n    const [contactForm, setContactForm] = useState('');\n    const [planInfo, setPlanInfo] = useState('');\n    const [admins, setAdmins] = useState('');\n    const [authorizations, setAuthorizations] = useState('');\n    const [debtors, setDebtors] = useState([]);\n\n    const fetchingData = async () => {\n        const { data: numberAffiliates } = await supabase\n            .from('partners')\n            .select('id')\n            .eq('state', 'aceptado');\n\n        setActiveAffiliates(numberAffiliates.length);\n\n        const { data: numberAffiliatesToRevision } = await supabase\n            .from('partners')\n            .select('id')\n            .eq('state', 'revision pendiente');\n\n        setAffiliatesToRevision(numberAffiliatesToRevision.length);\n\n        const { data: numberAdmins } = await supabase\n            .from('admins')\n            .select('id');\n\n        setAdmins(numberAdmins.length);\n\n        const { data: numberDownRequests } = await supabase\n            .from('familiar_downs_request')\n            .select('id')\n            .eq('status', 'pendiente');\n\n        setDownRequests(numberDownRequests.length);\n\n        const { data: numberMedics } = await supabase\n            .from('medics')\n            .select('id')\n            .eq('state', 'activo');\n\n        setMedics(numberMedics.length);\n\n        const { data: numberContacts } = await supabase\n            .from('guest_contacts')\n            .select('id');\n\n        setContactForm(numberContacts.length);\n\n        //FECHAS\n\n        const rightNow = new Date();\n        const monthFormated =\n            String(rightNow.getMonth()).length === 1\n                ? `0${rightNow.getMonth() + 1}`\n                : `${rightNow.getMonth() + 1}`;\n        const dayFormated =\n            String(rightNow.getDate()).length === 1\n                ? `0${rightNow.getDate()}`\n                : `${rightNow.getDate()}`;\n\n        const dateFormated = `${rightNow.getFullYear()}-${monthFormated}-${dayFormated}`;\n\n        const { data: paymentsExpired } = await supabase\n            .from('payments')\n            .select(\n                'expiration_date, amount, payed, partners(dni, name, lastname)'\n            )\n            .lt('expiration_date', dateFormated)\n            .eq('payed', false);\n        setDebtors(paymentsExpired);\n\n        const { data: numberPlans } = await supabase\n            .from('partners')\n            .select('plans (name, price)')\n            .eq('state', 'aceptado');\n\n        setBestPlans(numberPlans.map((el) => el.plans.name).sort());\n        setPlanInfo(\n            numberPlans.reduce((accu, el) => {\n                return accu + el.plans.price;\n            }, 0)\n        );\n\n        const { data: numberAuth } = await supabase\n            .from('orders')\n            .select('id')\n            .eq('status', 1);\n\n        setAuthorizations(numberAuth.length);\n    };\n\n    useEffect(() => {\n        fetchingData();\n    }, []);\n\n    if (authorizations === '' && bestPlans === '')\n        return <CircularProgress color='secondary' />;\n\n    const counts = {};\n    const countPlans = [['Plan', 'Socios']];\n\n    bestPlans.forEach((el) => {\n        counts[el] = (counts[el] || 0) + 1;\n    });\n\n    for (let key in counts) {\n        countPlans.push({ name: key, count: counts[key] });\n    }\n\n    const columns = [\n        { field: 'id', headerName: 'ID', width: 100 },\n        { field: 'dni', headerName: 'DNI', width: 200 },\n        { field: 'name', headerName: 'Nombre', width: 200 },\n        { field: 'lastname', headerName: 'Apellido', width: 200 },\n        {\n            field: 'month',\n            headerName: 'Fecha expiracion',\n            width: 200,\n        },\n        {\n            field: 'debt',\n            headerName: 'Deuda',\n            width: 200,\n        },\n    ];\n\n    const rows = debtors\n        ? debtors.map((el, index) => {\n              return {\n                  id: index,\n                  dni: el.partners.dni,\n                  name: el.partners.name,\n                  lastname: el.partners.lastname,\n                  month: el.expiration_date,\n                  debt: el.amount,\n              };\n          })\n        : [\n              {\n                  id: 0,\n                  dni: '00000000',\n                  name: 'Ningun',\n                  lastname: 'afiliado',\n                  month: 'con',\n                  debt: 'deudas',\n              },\n          ];\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.dataContainer}>\n                <section className={styles.card}>\n                    <div className={`${styles.iconCard} ${styles.bg_green}`}>\n                        <StorefrontIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Ganancias mensuales</p>\n                            <h3>\n                                $\n                                <CountUp end={Number(planInfo)} duration={10} />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n                <section className={styles.card}>\n                    <div className={`${styles.iconCard} ${styles.bg_blue}`}>\n                        <AddToQueueIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Interesados a revisar</p>\n                            <h3>\n                                <CountUp\n                                    end={Number(affiliatesToRevision)}\n                                    duration={5}\n                                />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n                <section className={styles.card}>\n                    <div\n                        className={`${styles.iconCard} ${styles.bg_lightblue}`}\n                    >\n                        <HourglassEmptyIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Faltan enviar formulario</p>\n                            <h3>\n                                <CountUp\n                                    end={Number(contactForm)}\n                                    duration={5}\n                                />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n                <section className={styles.card}>\n                    <div className={`${styles.iconCard} ${styles.bg_yellow}`}>\n                        <ErrorIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Socios que quieren la baja</p>\n                            <h3>\n                                <CountUp\n                                    end={Number(downRequests)}\n                                    duration={5}\n                                />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n                <section className={styles.card}>\n                    <div className={`${styles.iconCard} ${styles.bg_purple}`}>\n                        <AccessibilityIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Afiliados activos</p>\n                            <h3>\n                                <CountUp\n                                    end={Number(activeAffiliates)}\n                                    duration={5}\n                                />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n                <section className={styles.card}>\n                    <div className={`${styles.iconCard} ${styles.bg_red}`}>\n                        <AddBoxIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Medicos activos</p>\n                            <h3>\n                                <CountUp end={Number(medics)} duration={5} />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n                <section className={styles.card}>\n                    <div className={`${styles.iconCard} ${styles.bg_black}`}>\n                        <SettingsIcon />\n                    </div>\n                    <div className={styles.infoCard}>\n                        <div className={styles.auxiliar}></div>\n                        <article className={styles.description}>\n                            <p>Administradores</p>\n                            <h3>\n                                <CountUp end={Number(admins)} duration={5} />\n                            </h3>\n                        </article>\n                    </div>\n                </section>\n            </div>\n\n            <section className={styles.chartContainer}>\n                <div className={styles.iconChart}>\n                    <ShoppingCartIcon />\n                    <h3>Planes mas consumidos</h3>\n                </div>\n                <Chart\n                    chartType='PieChart'\n                    loader={<CircularProgress />}\n                    data={countPlans.map((el) =>\n                        el.name ? [el.name, el.count] : el\n                    )}\n                    className={styles.chart}\n                />\n            </section>\n            <div className={styles.dataGridContainer}>\n                <div className={styles.iconGrid}>\n                    <WarningIcon />\n                    <h3>Socios con deudas</h3>\n                </div>\n                <section className={styles.dataGrid}>\n                    <DataGrid rows={rows} columns={columns} pageSize={5} />\n                </section>\n            </div>\n        </div>\n    );\n}\n\nexport default AdminHome;\n"]},"metadata":{},"sourceType":"module"}