{"ast":null,"code":"var _jsxFileName = \"/home/alan/Escritorio/Integra/IntegraApp/src/components/Affiliate/Payment/PaymentsTable.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles, lighten } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport supabase from '../../../supabase.config';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport PaymentButton from './PaymentButton.jsx';\nimport styles from './PaymentsTable.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '0px 0px 0px 0px'\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2)\n  },\n  table: {\n    minWidth: 650\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  },\n  title: {\n    color: '#212121',\n    fontWeight: 'bold',\n    backgroundColor: 'rgb(112, 193, 189)'\n  },\n  rowColor: {\n    backgroundColor: lighten('#e0e0e0', 0.3)\n  },\n  btn: {\n    margin: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    backgroundColor: '#2c7f7b',\n    border: '2px solid #2c7f7b',\n    size: 'small',\n    fontWeight: 'bold',\n    '&:hover': {\n      backgroundColor: '#2c7f7b',\n      border: '2px solid #fafafa'\n    }\n  }\n}));\nexport default function PaymentsTable({\n  paymentStatus\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [debt, setDebt] = useState([]);\n  const [titular, setTitular] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function getTitularDebts() {\n      try {\n        const {\n          data: user\n        } = await supabase.from('partners').select('*').eq('dni', JSON.parse(localStorage.getItem('userdata')).dni).eq('family_bond', 'titular');\n        const {\n          data: debts\n        } = await supabase.from('payments').select('*').eq('partner_dni', user[0].dni).eq('payed', paymentStatus);\n        setDebt(debts.sort(function (a, b) {\n          if (a.concept < b.concept) {\n            return 1;\n          }\n\n          if (a.concept > b.concept) {\n            return -1;\n          }\n\n          return 0;\n        }));\n        setTitular(true);\n      } catch (err) {\n        console.log(err);\n      }\n\n      setLoading(false);\n    }\n\n    getTitularDebts(); //eslint-disable-next-line\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 25\n  }, this);\n\n  if (!titular) {\n    if (paymentStatus === 'true') return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Solo el titular puede visualizar pagos realizados.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 20\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Solo el titular puede realizar pagos.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      className: classes.table,\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        className: classes.title,\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"CONCEPTO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"left\",\n            children: \"FECHA EMISI\\xD3N\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"left\",\n            children: \"FECHA VENCIMIENTO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"left\",\n            children: \"MONTO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"left\",\n            children: \"ESTADO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"left\",\n            children: \"ACCIONES\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: debt.map((row, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            className: index % 2 === 1 ? classes.rowColor : null,\n            component: \"th\",\n            scope: \"row\",\n            children: row.concept\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            className: index % 2 === 1 ? classes.rowColor : null,\n            align: \"left\",\n            children: row.emission_date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            className: index % 2 === 1 ? classes.rowColor : null,\n            align: \"left\",\n            children: row.expiration_date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            className: index % 2 === 1 ? classes.rowColor : null,\n            align: \"left\",\n            children: row.amount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            className: index % 2 === 1 ? classes.rowColor : null,\n            align: \"left\",\n            children: row.payed ? 'Pagado' : 'Pendiente de pago'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            className: index % 2 === 1 ? classes.rowColor : null,\n            align: \"center\",\n            id: row.id,\n            children: row.payed ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              className: classes.btn,\n              children: \"Ver detalle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(PaymentButton, {\n              product: row\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this)]\n        }, row.concept, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PaymentsTable, \"X/za9mt9lf2P50fko5Tw77FGGEI=\", false, function () {\n  return [useStyles];\n});\n\n_c = PaymentsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentsTable\");","map":{"version":3,"sources":["/home/alan/Escritorio/Integra/IntegraApp/src/components/Affiliate/Payment/PaymentsTable.jsx"],"names":["React","useEffect","useState","makeStyles","lighten","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","supabase","Button","CircularProgress","PaymentButton","styles","useStyles","theme","root","width","padding","paper","marginBottom","spacing","table","minWidth","visuallyHidden","border","clip","height","margin","overflow","position","top","title","color","fontWeight","backgroundColor","rowColor","btn","paddingLeft","size","PaymentsTable","paymentStatus","classes","debt","setDebt","titular","setTitular","loading","setLoading","getTitularDebts","data","user","from","select","eq","JSON","parse","localStorage","getItem","dni","debts","sort","a","b","concept","err","console","log","map","row","index","emission_date","expiration_date","amount","payed","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles, lighten } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport supabase from '../../../supabase.config';\nimport { Button, CircularProgress } from '@material-ui/core';\n\nimport PaymentButton from './PaymentButton.jsx';\n\nimport styles from './PaymentsTable.module.css';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        padding: '0px 0px 0px 0px',\n    },\n    paper: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n    },\n    table: {\n        minWidth: 650,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    title: {\n        color: '#212121',\n        fontWeight: 'bold',\n        backgroundColor: 'rgb(112, 193, 189)',\n    },\n    rowColor: {\n        backgroundColor: lighten('#e0e0e0', 0.3),\n    },\n    btn: {\n        margin: theme.spacing(1),\n        paddingLeft: theme.spacing(2),\n        backgroundColor: '#2c7f7b',\n        border: '2px solid #2c7f7b',\n        size: 'small',\n        fontWeight: 'bold',\n        '&:hover': {\n            backgroundColor: '#2c7f7b',\n            border: '2px solid #fafafa',\n        },\n    },\n}));\n\nexport default function PaymentsTable({ paymentStatus }) {\n    const classes = useStyles();\n    const [debt, setDebt] = useState([]);\n    const [titular, setTitular] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        async function getTitularDebts() {\n            try {\n                const { data: user } = await supabase\n                    .from('partners')\n                    .select('*')\n                    .eq('dni', JSON.parse(localStorage.getItem('userdata')).dni)\n                    .eq('family_bond', 'titular');\n\n                const { data: debts } = await supabase\n                    .from('payments')\n                    .select('*')\n                    .eq('partner_dni', user[0].dni)\n                    .eq('payed', paymentStatus);\n\n                setDebt(\n                    debts.sort(function (a, b) {\n                        if (a.concept < b.concept) {\n                            return 1;\n                        }\n                        if (a.concept > b.concept) {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                );\n                setTitular(true);\n            } catch (err) {\n                console.log(err);\n            }\n            setLoading(false);\n        }\n        getTitularDebts();\n        //eslint-disable-next-line\n    }, []);\n\n    if (loading) return <CircularProgress />;\n\n    if (!titular) {\n        if (paymentStatus === 'true')\n            return <p>Solo el titular puede visualizar pagos realizados.</p>;\n        return <p>Solo el titular puede realizar pagos.</p>;\n    }\n    return (\n        <TableContainer component={Paper}>\n            <Table\n                className={classes.table}\n                size='small'\n                aria-label='a dense table'\n            >\n                <TableHead className={classes.title}>\n                    <TableRow>\n                        <TableCell>CONCEPTO</TableCell>\n                        <TableCell align='left'>FECHA EMISIÃ“N</TableCell>\n                        <TableCell align='left'>FECHA VENCIMIENTO</TableCell>\n                        <TableCell align='left'>MONTO</TableCell>\n                        <TableCell align='left'>ESTADO</TableCell>\n                        <TableCell align='left'>ACCIONES</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {debt.map((row, index) => (\n                        <TableRow key={row.concept}>\n                            <TableCell\n                                className={\n                                    index % 2 === 1 ? classes.rowColor : null\n                                }\n                                component='th'\n                                scope='row'\n                            >\n                                {row.concept}\n                            </TableCell>\n                            <TableCell\n                                className={\n                                    index % 2 === 1 ? classes.rowColor : null\n                                }\n                                align='left'\n                            >\n                                {row.emission_date}\n                            </TableCell>\n                            <TableCell\n                                className={\n                                    index % 2 === 1 ? classes.rowColor : null\n                                }\n                                align='left'\n                            >\n                                {row.expiration_date}\n                            </TableCell>\n                            <TableCell\n                                className={\n                                    index % 2 === 1 ? classes.rowColor : null\n                                }\n                                align='left'\n                            >\n                                {row.amount}\n                            </TableCell>\n                            <TableCell\n                                className={\n                                    index % 2 === 1 ? classes.rowColor : null\n                                }\n                                align='left'\n                            >\n                                {row.payed ? 'Pagado' : 'Pendiente de pago'}\n                            </TableCell>\n                            <TableCell\n                                className={\n                                    index % 2 === 1 ? classes.rowColor : null\n                                }\n                                align='center'\n                                id={row.id}\n                            >\n                                {row.payed ? (\n                                    <Button\n                                        variant='contained'\n                                        className={classes.btn}\n                                    >\n                                        Ver detalle\n                                    </Button>\n                                ) : (\n                                    <PaymentButton product={row} />\n                                )}\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}