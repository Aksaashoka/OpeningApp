{"ast":null,"code":"var _jsxFileName = \"/home/alan/Escritorio/Integra/IntegraApp/src/components/Affiliate/UserFamilyMembers/FamilyMembersList.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport supabase from '../../../supabase.config';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst headCells = [{\n  id: 'name',\n  numeric: false,\n  disablePadding: true,\n  label: 'NOMBRE'\n}, {\n  id: 'lastname',\n  numeric: false,\n  disablePadding: false,\n  label: 'APELLIDO'\n}, {\n  id: 'birthdate',\n  numeric: false,\n  disablePadding: false,\n  label: 'FECHA DE NACIMIENTO'\n}, {\n  id: 'family-bond',\n  numeric: false,\n  disablePadding: false,\n  label: 'PARENTESCO'\n}, {\n  id: 'gender',\n  numeric: false,\n  disablePadding: false,\n  label: 'SEXO'\n}, {\n  id: 'dni',\n  numeric: true,\n  disablePadding: false,\n  label: 'DNI'\n}, {\n  id: 'email',\n  numeric: true,\n  disablePadding: false,\n  label: 'E-MAIL'\n}, {\n  id: 'phone-number',\n  numeric: true,\n  disablePadding: false,\n  label: 'PHONE NUMBER'\n}, {\n  id: 'actions',\n  numeric: true,\n  disablePadding: false,\n  label: 'ACTIONS'\n}];\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    position: 'relative'\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2)\n  },\n  table: {\n    minWidth: 750\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  },\n  title: {\n    color: '#212121',\n    fontWeight: 'bold',\n    backgroundColor: lighten('#34a7a1', 0.6)\n  },\n  titleDos: {\n    flex: '1 1 100%',\n    fontWeight: 'bold',\n    fontSize: '1.4rem',\n    color: '#D9DCDF',\n    textAlign: 'center'\n  },\n  rowColor: {\n    backgroundColor: lighten('#e0e0e0', 0.3),\n    ':checked': {\n      color: blue[500]\n    }\n  },\n  iconFilter: {\n    color: 'rgba(0, 0, 0, 0.47)',\n    fontWeight: 'bold',\n    '&:hover': {\n      backgroundColor: lighten('#34a7a1', 0.8)\n    }\n  }\n}));\n\nfunction EnhancedTableHead(props) {\n  const {\n    classes,\n    order,\n    orderBy,\n    onRequestSort\n  } = props;\n  return /*#__PURE__*/_jsxDEV(TableHead, {\n    className: classes.title,\n    children: /*#__PURE__*/_jsxDEV(TableRow, {\n      children: headCells.map((headCell, index) => /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"left\",\n        padding: \"default\",\n        sortDirection: orderBy === headCell.id ? order : false,\n        children: [headCell.label, orderBy === headCell.id ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.visuallyHidden,\n          children: order === 'desc' ? 'sorted descending' : 'sorted ascending'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }, this) : null]\n      }, `${headCell.id}-${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n}\n\n_c = EnhancedTableHead;\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired\n};\nconst useToolbarStyles = makeStyles(theme => ({\n  root: {\n    // paddingLeft: theme.spacing(0),\n    // paddingRight: theme.spacing(0),\n    backgroundColor: lighten('#34a7a1', 0.3),\n    padding: '0px 0px 0px 0px' //color barra superior '\n\n  },\n  highlight: theme.palette.type === 'light' ? {\n    color: '#fafafa',\n    backgroundColor: lighten(blue[500], 0.5),\n    //color barra superior cuando selecciono item\n    fontWeight: 'bold',\n    fontSize: '30px'\n  } : {\n    color: theme.palette.text.primary,\n    backgroundColor: lighten('#34a7a1', 0.3)\n  },\n  title: {\n    flex: '1 1 100%',\n    fontWeight: 'bold',\n    fontSize: '1.4rem',\n    color: '#fafafa',\n    textAlign: 'center'\n  }\n}));\n\nconst EnhancedTableToolbar = props => {\n  _s();\n\n  const classes = useToolbarStyles();\n  const {\n    numSelected,\n    setToShowRows,\n    rows\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Toolbar, {\n    className: clsx(classes.root, {\n      [classes.highlight]: numSelected > 0\n    }),\n    children: /*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      variant: \"h6\",\n      id: \"tableTitle\",\n      component: \"div\",\n      children: \"GRUPO FAMILIAR\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EnhancedTableToolbar, \"3YobLOlq21lAjJ1iCLt9G1iGJSo=\", false, function () {\n  return [useToolbarStyles];\n});\n\n_c2 = EnhancedTableToolbar;\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired\n};\nexport default function FamilyMembersList() {\n  _s2();\n\n  const classes = useStyles();\n  const MySwal = withReactContent(Swal);\n  const [familyGroup, setFamilyGroup] = useState([]);\n  const [titular, setTitular] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const titularDni = JSON.parse(localStorage.getItem('userdata')).dni;\n  useEffect(() => {\n    async function getAffiliate() {\n      try {\n        const {\n          data: user\n        } = await supabase.from('partners').select('*').eq('dni', JSON.parse(localStorage.getItem('userdata')).dni).eq('family_bond', 'titular');\n        const {\n          data: family\n        } = await supabase.from('partners').select('*').eq('family_group', user[0].family_group).eq('state', 'aceptado').neq('dni', user[0].dni);\n        setFamilyGroup(family);\n        setTitular(true);\n      } catch (err) {\n        console.log(err);\n      }\n\n      setLoading(false);\n    }\n\n    getAffiliate();\n  }, []);\n\n  const handleDownFamiliar = async familiar => {\n    const {\n      value: formValues\n    } = await MySwal.fire({\n      title: `Dar de baja a ${familiar.name} ${familiar.lastname}`,\n      text: `DNI: ${familiar.dni}`,\n      input: 'textarea',\n      inputPlaceholder: 'Motivo de la baja...',\n      inputAttributes: {\n        'aria-label': 'Motivo de la baja...'\n      },\n      showCancelButton: true,\n      showConfirmButton: true,\n      reverseButtons: true,\n      confirmButtonText: 'Enviar',\n      cancelButtonText: 'Cancelar'\n    });\n\n    if (formValues) {\n      MySwal.fire({\n        title: 'Esta seguro/a de solicitar la baja?',\n        text: `Familiar a dar de baja:\\nDNI: ${familiar.dni}\\nNombre: ${familiar.name}\\nApellido: ${familiar.lastname}\\nMotivo: ${formValues}`,\n        reverseButtons: true,\n        icon: 'question',\n        showCancelButton: true,\n        showConfirmButton: true,\n        confirmButtonText: 'Estoy seguro',\n        cancelButtonText: 'Cancelar'\n      }).then(async res => {\n        const {\n          error: errorSendingRequest\n        } = await supabase.from('familiar_downs_request').insert([{\n          titular_dni: titularDni,\n          familiar_dni: familiar.dni,\n          familiar_name: familiar.name,\n          familiar_lastname: familiar.lastname,\n          familiar_birthdate: familiar.birthdate,\n          reason: formValues\n        }]);\n\n        if (errorSendingRequest) {\n          return MySwal.fire({\n            title: 'Error al enviar la solicitud',\n            icon: 'error',\n            text: `${errorSendingRequest.message === 'duplicate key value violates unique constraint \"familiar_downs_request_familiar_dni_key\"' ? 'Ya se envio la solicitud para este socio' : errorSendingRequest.message}`,\n            showConfirmButton: true,\n            confirmButtonText: 'Salir'\n          });\n        }\n\n        if (res.isConfirmed) {\n          MySwal.fire({\n            title: 'Se solicito la baja con exito, un administrador se comunicara con usted en los proximos dias.',\n            icon: 'success',\n            showConfirmButton: true,\n            confirmButtonText: 'Perfecto!'\n          });\n        } else {\n          MySwal.fire({\n            title: 'Solicitud cancelada',\n            icon: 'warning',\n            showConfirmButton: true,\n            confirmButtonText: 'Salir'\n          });\n        }\n      });\n    }\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 25\n  }, this);\n  if (!titular) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Solo el titular puede verificar esta informaci\\xF3n\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(EnhancedTableToolbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        size: \"small\",\n        \"aria-label\": \"a dense table\",\n        children: [/*#__PURE__*/_jsxDEV(EnhancedTableHead, {\n          classes: classes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: familyGroup.map((row, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: row.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.lastname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.birthdate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.family_bond\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.dni\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.phone_number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                size: \"small\",\n                onClick: () => handleDownFamiliar(row),\n                children: \"Dar de baja\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 33\n            }, this)]\n          }, `${row.name}-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(FamilyMembersList, \"psF8qjfI8jseQvn7Z3nUZymflr0=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = FamilyMembersList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"EnhancedTableHead\");\n$RefreshReg$(_c2, \"EnhancedTableToolbar\");\n$RefreshReg$(_c3, \"FamilyMembersList\");","map":{"version":3,"sources":["/home/alan/Escritorio/Integra/IntegraApp/src/components/Affiliate/UserFamilyMembers/FamilyMembersList.jsx"],"names":["React","useEffect","useState","makeStyles","PropTypes","clsx","lighten","blue","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Toolbar","Typography","Paper","supabase","Button","CircularProgress","Swal","withReactContent","headCells","id","numeric","disablePadding","label","useStyles","theme","root","width","position","paper","marginBottom","spacing","table","minWidth","visuallyHidden","border","clip","height","margin","overflow","padding","top","title","color","fontWeight","backgroundColor","titleDos","flex","fontSize","textAlign","rowColor","iconFilter","EnhancedTableHead","props","classes","order","orderBy","onRequestSort","map","headCell","index","propTypes","object","isRequired","numSelected","number","func","onSelectAllClick","oneOf","string","rowCount","useToolbarStyles","highlight","palette","type","text","primary","EnhancedTableToolbar","setToShowRows","rows","FamilyMembersList","MySwal","familyGroup","setFamilyGroup","titular","setTitular","loading","setLoading","titularDni","JSON","parse","localStorage","getItem","dni","getAffiliate","data","user","from","select","eq","family","family_group","neq","err","console","log","handleDownFamiliar","familiar","value","formValues","fire","name","lastname","input","inputPlaceholder","inputAttributes","showCancelButton","showConfirmButton","reverseButtons","confirmButtonText","cancelButtonText","icon","then","res","error","errorSendingRequest","insert","titular_dni","familiar_dni","familiar_name","familiar_lastname","familiar_birthdate","birthdate","reason","message","isConfirmed","row","idx","family_bond","gender","email","phone_number"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\n\nimport supabase from '../../../supabase.config';\nimport { Button, CircularProgress } from '@material-ui/core';\n\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\nconst headCells = [\n    { id: 'name', numeric: false, disablePadding: true, label: 'NOMBRE' },\n    {\n        id: 'lastname',\n        numeric: false,\n        disablePadding: false,\n        label: 'APELLIDO',\n    },\n    {\n        id: 'birthdate',\n        numeric: false,\n        disablePadding: false,\n        label: 'FECHA DE NACIMIENTO',\n    },\n    {\n        id: 'family-bond',\n        numeric: false,\n        disablePadding: false,\n        label: 'PARENTESCO',\n    },\n    {\n        id: 'gender',\n        numeric: false,\n        disablePadding: false,\n        label: 'SEXO',\n    },\n    {\n        id: 'dni',\n        numeric: true,\n        disablePadding: false,\n        label: 'DNI',\n    },\n    {\n        id: 'email',\n        numeric: true,\n        disablePadding: false,\n        label: 'E-MAIL',\n    },\n    {\n        id: 'phone-number',\n        numeric: true,\n        disablePadding: false,\n        label: 'PHONE NUMBER',\n    },\n    {\n        id: 'actions',\n        numeric: true,\n        disablePadding: false,\n        label: 'ACTIONS',\n    },\n];\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        position: 'relative',\n    },\n    paper: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n    },\n    table: {\n        minWidth: 750,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    title: {\n        color: '#212121',\n        fontWeight: 'bold',\n        backgroundColor: lighten('#34a7a1', 0.6),\n    },\n    titleDos: {\n        flex: '1 1 100%',\n        fontWeight: 'bold',\n        fontSize: '1.4rem',\n        color: '#D9DCDF',\n        textAlign: 'center',\n    },\n    rowColor: {\n        backgroundColor: lighten('#e0e0e0', 0.3),\n        ':checked': {\n            color: blue[500],\n        },\n    },\n    iconFilter: {\n        color: 'rgba(0, 0, 0, 0.47)',\n        fontWeight: 'bold',\n        '&:hover': {\n            backgroundColor: lighten('#34a7a1', 0.8),\n        },\n    },\n}));\n\nfunction EnhancedTableHead(props) {\n    const { classes, order, orderBy, onRequestSort } = props;\n\n    return (\n        <TableHead className={classes.title}>\n            <TableRow>\n                {headCells.map((headCell, index) => (\n                    <TableCell\n                        key={`${headCell.id}-${index}`}\n                        align='left'\n                        padding='default'\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        {headCell.label}\n                        {orderBy === headCell.id ? (\n                            <span className={classes.visuallyHidden}>\n                                {order === 'desc'\n                                    ? 'sorted descending'\n                                    : 'sorted ascending'}\n                            </span>\n                        ) : null}\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    );\n}\n\nEnhancedTableHead.propTypes = {\n    classes: PropTypes.object.isRequired,\n    numSelected: PropTypes.number.isRequired,\n    onRequestSort: PropTypes.func.isRequired,\n    onSelectAllClick: PropTypes.func.isRequired,\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n    orderBy: PropTypes.string.isRequired,\n    rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n    root: {\n        // paddingLeft: theme.spacing(0),\n        // paddingRight: theme.spacing(0),\n        backgroundColor: lighten('#34a7a1', 0.3),\n        padding: '0px 0px 0px 0px',\n        //color barra superior '\n    },\n    highlight:\n        theme.palette.type === 'light'\n            ? {\n                  color: '#fafafa',\n                  backgroundColor: lighten(blue[500], 0.5), //color barra superior cuando selecciono item\n                  fontWeight: 'bold',\n                  fontSize: '30px',\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: lighten('#34a7a1', 0.3),\n              },\n    title: {\n        flex: '1 1 100%',\n        fontWeight: 'bold',\n        fontSize: '1.4rem',\n        color: '#fafafa',\n        textAlign: 'center',\n    },\n}));\n\nconst EnhancedTableToolbar = (props) => {\n    const classes = useToolbarStyles();\n    const { numSelected, setToShowRows, rows } = props;\n    return (\n        <Toolbar\n            className={clsx(classes.root, {\n                [classes.highlight]: numSelected > 0,\n            })}\n        >\n            <Typography\n                className={classes.title}\n                variant='h6'\n                id='tableTitle'\n                component='div'\n            >\n                GRUPO FAMILIAR\n            </Typography>\n        </Toolbar>\n    );\n};\n\nEnhancedTableToolbar.propTypes = {\n    numSelected: PropTypes.number.isRequired,\n};\n\nexport default function FamilyMembersList() {\n    const classes = useStyles();\n    const MySwal = withReactContent(Swal);\n    const [familyGroup, setFamilyGroup] = useState([]);\n    const [titular, setTitular] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const titularDni = JSON.parse(localStorage.getItem('userdata')).dni;\n\n    useEffect(() => {\n        async function getAffiliate() {\n            try {\n                const { data: user } = await supabase\n                    .from('partners')\n                    .select('*')\n                    .eq('dni', JSON.parse(localStorage.getItem('userdata')).dni)\n                    .eq('family_bond', 'titular');\n\n                const { data: family } = await supabase\n                    .from('partners')\n                    .select('*')\n                    .eq('family_group', user[0].family_group)\n                    .eq('state', 'aceptado')\n                    .neq('dni', user[0].dni);\n\n                setFamilyGroup(family);\n                setTitular(true);\n            } catch (err) {\n                console.log(err);\n            }\n            setLoading(false);\n        }\n        getAffiliate();\n    }, []);\n\n    const handleDownFamiliar = async (familiar) => {\n        const { value: formValues } = await MySwal.fire({\n            title: `Dar de baja a ${familiar.name} ${familiar.lastname}`,\n            text: `DNI: ${familiar.dni}`,\n            input: 'textarea',\n            inputPlaceholder: 'Motivo de la baja...',\n            inputAttributes: {\n                'aria-label': 'Motivo de la baja...',\n            },\n            showCancelButton: true,\n            showConfirmButton: true,\n            reverseButtons: true,\n            confirmButtonText: 'Enviar',\n            cancelButtonText: 'Cancelar',\n        });\n        if (formValues) {\n            MySwal.fire({\n                title: 'Esta seguro/a de solicitar la baja?',\n                text: `Familiar a dar de baja:\\nDNI: ${familiar.dni}\\nNombre: ${familiar.name}\\nApellido: ${familiar.lastname}\\nMotivo: ${formValues}`,\n                reverseButtons: true,\n                icon: 'question',\n                showCancelButton: true,\n                showConfirmButton: true,\n                confirmButtonText: 'Estoy seguro',\n                cancelButtonText: 'Cancelar',\n            }).then(async (res) => {\n                const { error: errorSendingRequest } = await supabase\n                    .from('familiar_downs_request')\n                    .insert([\n                        {\n                            titular_dni: titularDni,\n                            familiar_dni: familiar.dni,\n                            familiar_name: familiar.name,\n                            familiar_lastname: familiar.lastname,\n                            familiar_birthdate: familiar.birthdate,\n                            reason: formValues,\n                        },\n                    ]);\n                if (errorSendingRequest) {\n                    return MySwal.fire({\n                        title: 'Error al enviar la solicitud',\n                        icon: 'error',\n                        text: `${\n                            errorSendingRequest.message ===\n                            'duplicate key value violates unique constraint \"familiar_downs_request_familiar_dni_key\"'\n                                ? 'Ya se envio la solicitud para este socio'\n                                : errorSendingRequest.message\n                        }`,\n                        showConfirmButton: true,\n                        confirmButtonText: 'Salir',\n                    });\n                }\n                if (res.isConfirmed) {\n                    MySwal.fire({\n                        title: 'Se solicito la baja con exito, un administrador se comunicara con usted en los proximos dias.',\n                        icon: 'success',\n                        showConfirmButton: true,\n                        confirmButtonText: 'Perfecto!',\n                    });\n                } else {\n                    MySwal.fire({\n                        title: 'Solicitud cancelada',\n                        icon: 'warning',\n                        showConfirmButton: true,\n                        confirmButtonText: 'Salir',\n                    });\n                }\n            });\n        }\n    };\n\n    if (loading) return <CircularProgress />;\n\n    if (!titular)\n        return <p>Solo el titular puede verificar esta información</p>;\n\n    return (\n        <>\n            <EnhancedTableToolbar />\n            <TableContainer component={Paper}>\n                <Table\n                    className={classes.table}\n                    size='small'\n                    aria-label='a dense table'\n                >\n                    <EnhancedTableHead classes={classes} />\n                    <TableBody>\n                        {familyGroup.map((row, idx) => (\n                            <TableRow key={`${row.name}-${idx}`}>\n                                <TableCell component='th' scope='row'>\n                                    {row.name}\n                                </TableCell>\n                                <TableCell align='left'>\n                                    {row.lastname}\n                                </TableCell>\n                                <TableCell align='left'>\n                                    {row.birthdate}\n                                </TableCell>\n                                <TableCell align='left'>\n                                    {row.family_bond}\n                                </TableCell>\n                                <TableCell align='left'>{row.gender}</TableCell>\n                                <TableCell align='left'>{row.dni}</TableCell>\n                                <TableCell align='left'>{row.email}</TableCell>\n                                <TableCell align='left'>\n                                    {row.phone_number}\n                                </TableCell>\n                                <TableCell align='left'>\n                                    <Button\n                                        variant='outlined'\n                                        size='small'\n                                        onClick={() => handleDownFamiliar(row)}\n                                    >\n                                        Dar de baja\n                                    </Button>\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}